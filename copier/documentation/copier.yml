# Simple MkDocs Documentation Template
# A lightweight copier template for CMIP-LD documentation sites
_templates_suffix: .jinja

# ============================================
# FILE HANDLING DURING UPDATES
# ============================================
# 
# _skip_if_exists: Files NEVER overwritten (user content)
# _preserve_files: Files created once, never updated
#
# Files NOT in these lists will be UPDATED when running `copier update`
# This includes: mkdocs.yml, stylesheets, hooks, technical docs
# ============================================

# User content - never overwrite (protects your work)
_skip_if_exists:
  - "docs/index.md"          # Your home page
  - "docs/links.yml"         # Your custom links
  - ".git*"
  - "README*"

# Files created once but never touched during updates
_preserve_files:
  - ".copier-answers.yml"    # Your saved answers

# Exclude from copying entirely
_exclude:
  - "*.tmp"
  - "*.bak"
  - ".DS_Store"
  - "copier.yml"
  - "*.pyc"
  - "__pycache__/**"
  - "demo-answers.yml"
  - "auto-setup.py"
  - "README.md"
  - "del/**"

# Template metadata
_metadata:
  name: "CMIP-LD MkDocs Simple"
  description: "Simple MkDocs documentation template with custom links and script support"
  version: "1.0.0"

# Jinja2 template settings
_envops:
  block_start_string: "{%"
  block_end_string: "%}"
  variable_start_string: "{{"
  variable_end_string: "}}"
  keep_trailing_newline: true

# ============================================
# USER QUESTIONS
# ============================================

# Auto-detect from git remote if available
_git_remote_url:
  type: str
  default: ""
  when: false

project_name:
  type: str
  help: "Project name (displayed in header and title)"
  default: "{{ _copier_conf.dst_path | basename | replace('-', ' ') | replace('_', ' ') | title }}"

repo_name:
  type: str
  help: "GitHub repository name (e.g., 'my-repo')"
  default: "{{ _copier_conf.dst_path | basename }}"

repo_owner:
  type: str
  help: "GitHub username or organization (e.g., 'WCRP-CMIP')"
  default: "WCRP-CMIP"

url_prefix:
  type: str
  help: "URL prefix for GitHub Pages (usually same as repo_name)"
  default: "{{ repo_name }}"

description:
  type: str
  help: "Short project description"
  default: "Documentation for {{ project_name }}"

author_name:
  type: str
  help: "Author or organization name"
  default: "CMIP-IPO"

header_color:
  type: str
  help: "Material theme header color"
  default: "blue"
  choices:
    - red
    - pink
    - purple
    - deep-purple
    - indigo
    - blue
    - light-blue
    - cyan
    - teal
    - green
    - light-green
    - lime
    - yellow
    - amber
    - orange
    - deep-orange
    - brown
    - grey
    - blue-grey
    - black

enable_custom_links:
  type: bool
  help: "Enable custom external links in navigation sidebar"
  default: true

links_section_title:
  type: str
  help: "Title for the custom links section in navigation"
  default: "External Links"
  when: "{{ enable_custom_links }}"

enable_scripts:
  type: bool
  help: "Enable Python scripts in docs/scripts/ to run during build"
  default: true

css_prefix:
  type: str
  help: "CSS variable prefix (e.g., 'emd' creates --emd-primary, .emd-container)"
  default: "{{ url_prefix | default(repo_name) | lower | replace('-', '') | replace('_', '') }}"

# ============================================
# DERIVED VALUES (not asked)
# ============================================

site_url:
  type: str
  default: "https://{{ repo_owner }}.github.io/{{ url_prefix }}/"
  when: false

repo_url:
  type: str
  default: "https://github.com/{{ repo_owner }}/{{ repo_name }}"
  when: false
