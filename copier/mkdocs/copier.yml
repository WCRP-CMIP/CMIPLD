# Minimal Copier template for MkDocs publishing
_templates_suffix: .jinja

# Skip overwriting existing files with wildcard patterns
_skip_if_exists:
  # - "*.yml"
  # - "*.yaml"
  - "docs/*.md"
  - ".git*"
  - "README*"
  # Note: auxillary/* commented out so nav can find template files
  # - "docs/auxillary/*"

# Exclude files/directories from being copied at all
_exclude:
  - "*.tmp"
  - "*.bak"
  - "temp/*"
  - "backup/**"
  - "node_modules/**"
  - ".DS_Store"
  - "auto-setup.py"
  - "copier.yml"
  - "cmds.py"
  - "*.pyc"
  - "__pycache__/**"
  - ".copier-answers.yml"


# Template metadata
_metadata:
  name: "MkDocs Publisher"
  description: "MkDocs template with repository statistics"
  version: "1.0.0"

# Essential questions only
project_name:
  type: str
  default: "CMIP-LD"
  help: "Project name"

repo_name:
  type: str
  default: "{{ project_name }}"
  help: "GitHub repository name"

github_username:
  type: str
  default: "WCRP-CMIP"
  help: "GitHub username or organization"

# Derived values (no questions asked)
_envops:
  block_start_string: "{%"
  block_end_string: "%}"
  variable_start_string: "{{"
  variable_end_string: "}}"
  keep_trailing_newline: true

# Fixed/derived values
author_name:
  type: str
  default: "CMIP-IPO"
  when: false

author_email:
  type: str
  default: "cmip-ipo@example.com"
  when: false

site_url:
  type: str
  default: "https://{{ github_username }}.github.io/{{ repo_name }}/"
  when: false

repo_url:
  type: str
  default: "https://github.com/{{ github_username }}/{{ repo_name }}"
  when: false

json_data_folder:
  type: str
  default: "json_data"
  when: false

description:
  type: str
  default: "Documentation for {{ project_name }}"
  when: false

header_color:
  type: str
  default: "blue"
  help: "Material theme color: red, pink, purple, deep-purple, indigo, blue, light blue, cyan, teal, green, light-green, lime, yellow, amber, orange, deep-orange, brown, grey, blue-grey, black, white"
  when: true

generate_static_files:
  type: bool
  default: true
  when: false

static_files_folder:
  type: str
  default: "static_output"
  when: false

generate_repo_stats:
  type: bool
  default: true
  when: false

# Links file configuration
links_file:
  type: str
  default: "links.yml"
  help: "YAML file containing additional menu items (relative to docs directory)"
  when: true

enable_custom_links:
  type: bool
  default: true
  help: "Enable custom links from links file in navigation"
  when: true

links_section_title:
  type: str
  default: "External Links"
  help: "Title for the links section in navigation"
  when: true

# Workflow Configuration
enable_build_docs:
  type: bool
  default: true
  help: "Generate build-docs workflow using CMIP-LD/actions/build-docs"
  when: true

enable_static_pages:
  type: bool
  default: true
  help: "Generate static pages deployment workflow"
  when: true

enable_jsonld_workflows:
  type: bool
  default: true
  help: "Generate JSON-LD processing workflows using CMIP-LD actions"
  when: true

enable_new_issue:
  type: bool
  default: true
  help: "Generate issue processing workflow using CMIP-LD/actions/new-issue"
  when: true

build_trigger_branch:
  type: str
  default: "main"
  help: "Branch that triggers documentation builds"
  when: "{{ enable_build_docs }}"

build_target_branch:
  type: str
  default: "production"
  help: "Branch where built documentation is deployed"
  when: "{{ enable_build_docs }}"
