#!/usr/bin/env python3
"""
Minimal test to verify gen-files is creating src-data files
"""

import mkdocs_gen_files
import sys
from pathlib import Path

print("="*60, file=sys.stderr)
print("MINIMAL SRC-DATA TEST", file=sys.stderr)
print("="*60, file=sys.stderr)

# Force create some test files
print("Creating test files...", file=sys.stderr)

# 1. Create a simple test file
with mkdocs_gen_files.open("test-src-data.md", "w") as f:
    f.write("# Test Src Data\n\nIf you see this, gen-files is working!")
print("✅ Created test-src-data.md", file=sys.stderr)

# 2. Create src-data-docs files regardless of src-data existence
with mkdocs_gen_files.open("src-data-docs/index.md", "w") as f:
    f.write("# Source Data Documentation\n\nThis is a test index.")
print("✅ Created src-data-docs/index.md", file=sys.stderr)

with mkdocs_gen_files.open("src-data-docs/test-section.md", "w") as f:
    f.write("# Test Section\n\nThis is a test section.")
print("✅ Created src-data-docs/test-section.md", file=sys.stderr)

with mkdocs_gen_files.open("src-data-docs/test-section_contents.md", "w") as f:
    f.write("# Test Section Contents\n\nThis is test contents.")
print("✅ Created src-data-docs/test-section_contents.md", file=sys.stderr)

print("\nTest files created. These should appear in navigation.", file=sys.stderr)
print("="*60, file=sys.stderr)
