# {{ project_name }} Configuration
# Generated by MkDocs Publisher Template

# This file contains environment variables and configuration
# for the MkDocs publishing pipeline

# Source repository
export MIPCVS_WIKI_PATH="{{ source_path }}"
export MIPCVS_WIKI_REPO="https://github.com/cmip-ipo/mipcvs-wiki.git"

# Build configuration
export BUILD_PATH="{{ build_path }}"
export DOCS_PATH="{{ production_docs_path }}"
export SITE_URL="{{ site_url }}"
export REPO_URL="{{ repo_url }}"

# Python configuration
export PYTHON_VERSION="{{ python_version }}"
export PYTHONPATH="${PYTHONPATH}:./.src/mkdocs/scripts"

# MkDocs configuration
export MKDOCS_CONFIG_FILE="mkdocs.yml"
export MKDOCS_STRICT="{{ 'true' if enable_github_actions else 'false' }}"

# Build options
export ENABLE_VALIDATION="true"
export ENABLE_OPTIMIZATION="true"
export ENABLE_CUSTOM_STYLES="{{ 'true' if enable_custom_styles else 'false' }}"

# GitHub Actions
export ENABLE_GITHUB_ACTIONS="{{ 'true' if enable_github_actions else 'false' }}"

# Logging
export LOG_LEVEL="INFO"
export LOG_FILE="mkdocs_generation.log"

# Development
export DEV_SERVER_HOST="localhost"
export DEV_SERVER_PORT="8000"

# Colors for terminal output
export COLOR_RED='\033[0;31m'
export COLOR_GREEN='\033[0;32m'
export COLOR_YELLOW='\033[1;33m'
export COLOR_BLUE='\033[0;34m'
export COLOR_NC='\033[0m'  # No Color

# Helper functions
log_info() {
    echo -e "${COLOR_BLUE}ℹ️  $1${COLOR_NC}"
}

log_success() {
    echo -e "${COLOR_GREEN}✅ $1${COLOR_NC}"
}

log_warning() {
    echo -e "${COLOR_YELLOW}⚠️  $1${COLOR_NC}"
}

log_error() {
    echo -e "${COLOR_RED}❌ $1${COLOR_NC}"
}

# Check if running in CI
if [[ "$CI" == "true" || "$GITHUB_ACTIONS" == "true" ]]; then
    export IS_CI="true"
    export LOG_LEVEL="DEBUG"
else
    export IS_CI="false"
fi

# Load local overrides if they exist
if [[ -f ".env.local" ]]; then
    source .env.local
fi

log_info "{{ project_name }} environment loaded"
